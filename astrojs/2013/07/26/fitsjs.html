<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>fitsjs 0.5.0</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <link href="/atom.xml" rel="alternate" title="Amit Kapadia" type="application/atom+xml" />

    </head>
    <body>

        <div class="container">
          <div class='about'>
            <img class='me' src='/images/me.jpg'>
            <div class='whoami'>
              <p class='name'>Amit Kapadia</p>
              <p>Citizen Science developer for the Zooniverse. Usually found in a planetarium or climbing a crag.</p>
              <p>
                <a href="http://github.com/kapadia/"><img src='/images/github-logo.png'></a>
                <a href="http://twitter.com/amitinho/"><img src='/images/twitter-logo.png'></a>
              </p>
            </div>
          </div>

          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">astronomy + javascript + visualization</a></h1>
            </div>

              <h2>fitsjs 0.5.0</h2>
<p class="meta">26 Jul 2013</p>

<div class="post">
<p>The wildly popular astronomical data format – FITS – now has an upgraded javascript library!</p>

<p><code>fitsjs</code> has been refactored to handle more real-world use cases. Originally the library was developed to read images for only Zooniverse use cases. This meant reading small SDSS and HST cutouts of around 500 pixels. Most users of FITS (pretty much just astronomers and a few folks at the Vatican Library) handle much larger files. With this refactoring, <code>fitsjs</code> handles files of around 1 gigabyte or more in size.</p>

<p>With the update, <code>fitsjs</code> has improved read speeds utilizing multi-threading (via Web Workers), and has a more javascript-esque API, heavily relying on callback functions for time intensive operations.</p>

<p>Find <a href='https://github.com/astrojs/fitsjs'><code>fitsjs</code></a> and <a href='http://astrojs.github.io/fitsjs/'>documentation</a> on GitHub.</p>

<p>The library is easy to use, almost like PyFITS, but with callback functions. Here&#8217;s a snippet:</p>

<pre><code>// Define a callback function for when the file is read
function readCallback(f) {
  
  // Get the first header
  var header1 = f.getHeader();  // or f.getHeader(0)
  
  // Get the second header if the file has multiple header-dataunits
  var header2 = f.getHeader(1);
  
  // Print a keyword from header
  console.log(header.get(&#39;BITPIX&#39;));
  
  // Get the first dataunit
  var dataunit1 = f.getDataUnit();
  
  // Or how about the second dataunit
  var dataunit2 = f.getDataUnit(1);
  
  // Assuming this is an image, let&#39;s get the pixels (it&#39;s a asynchronous process)
  dataunit1.getFrame(0, function(arr) {
    console.log(arr);
  });
}

// Initialize
var f = new astro.FITS(&#39;/path/to/fits/file.fits&#39;, readCallback);</code></pre>
</div>

          </div>
        </div> <!-- /container -->

    </body>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42541543-1', 'kapadia.github.io');
      ga('send', 'pageview');

    </script>
</html>
